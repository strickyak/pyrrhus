head	1.1;
access;
symbols;
locks
	strick:1.1; strict;
comment	@# @;


1.1
date	2012.11.17.20.16.29;	author strick;	state Exp;
branches;
next	;


desc
@@


1.1
log
@/dev/null
@
text
@# Pyrrhus of Epirus
# Copyright 2012 Strick

import ast
import re

def NodeStringer(n):
  return n.__class__.__name__ + '~' + str(n.nom)
  return n.__class__.__name__ + '~' + str(hash(n) % 900 + 100)

def Dir(n):
  return ','.join([x for x in dir(n) if not re.match('^__', x)])

a = ast.parse(open("t1.py").read())
i = 1
for n in ast.walk(a):
  n.nom = i
  n.__class__.__str__ = NodeStringer
  n.__class__.__repr__ = NodeStringer
  i += 1

print ast.dump(a)
print

for n in ast.walk(a):
  print n, '::', Dir(n), '::', str(n), '::', vars(n)
  #n.more = 'foo'
  print
@
